<ng-template #bubbleChat>
  <ng-container *ngIf="message.sender && message.sender !== 'BOT'; else showBotBubble">
    <div class="self-end bg-primary rounded-2xl text-white max-w-3/4 p-3">
      <p class="whitespace-pre-wrap text-sm" [innerHTML]="message.text"></p>
    </div>
  </ng-container>

  <ng-template #showBotBubble>
    <ng-container *ngIf="message.isLoading; else finishLoading">
      <div class="dot-pulse ml-4"></div>
    </ng-container>
    <ng-template #finishLoading>
      <div class="self-start bg-primary rounded-2xl text-white max-w-3/4 p-3">
        <p class="whitespace-pre-wrap text-sm" [innerHTML]="message.text"></p>
      </div>
    </ng-template>
  </ng-template>
</ng-template>
