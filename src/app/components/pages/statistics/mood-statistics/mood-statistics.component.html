<div class="flex flex-col gap-y-6">
  <div class="flex flex-col gap-y-5 border border-primary rounded-lg p-4">
    <app-calendar 
      [isStatistics]="true" 
      [eventSource]="moodsByMonth.moods"
      [monthViewSelectedColor]="{ text: 'black', background: 'transparent' }"
      [monthViewTemplate]="monthViewTemplate"
      (selectDateChangedEvent)="onSelectCalendarDateChanged($event)">
    </app-calendar>
    <ng-template #monthViewTemplate let-view="view" let-row="row" let-col="col">
      <div (click)="onViewMoodsByDate(view.dates[row*7+col].date)">
        {{ view.dates[row*7+col].label }}
      </div>
    </ng-template>

    <moods-count *ngIf="moodsByMonth.moodsCount" [moodsCount]="moodsByMonth.moodsCount"></moods-count>
  </div>

  <div class="flex flex-col gap-y-4 border border-primary rounded-lg p-4">
    <div class="flex justify-center gap-x-4 text-xs text-white">
      <button (click)="onSelectLineChartMonth()" class="border rounded-lg bg-primary w-20 p-2">{{ selectedMonth ? monthNames(selectedMonth) : 'Pilih Bulan' }}</button>
      <button (click)="onSelectLineChartYear()" class="border rounded-lg bg-primary w-20 p-2">{{ selectedYear ? selectedYear : 'Pilih Tahun' }}</button>
    </div>
    <canvas #lineChartCanvas></canvas>
  </div>

  <div class="border-primary rounded-lg p-4"></div>
</div>
