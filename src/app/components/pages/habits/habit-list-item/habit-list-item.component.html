<div #habitItem>
  <ion-card (click)="onMarkGoal()" [style.border-color]="habit.labelColor" class="border-2 rounded-lg">
    <ion-card-content class="flex flex-col p-0">
      <div class="relative bg-white w-full h-fit-content">
        <!-- PROGRESS BAR -->
        <div #habitGoalProgressBar [style.background-color]="habit.labelColor" [style.width.%]="goalProgress" id="habit-goal-progress-bar" class="absolute opacity-25 h-full"></div>
        
        <!-- TOP CONTENT -->
        <div class="flex items-center gap-x-5 p-4">
          <label class="flex-1 text-md font-medium line-clamp-3">{{ habit.name }}</label>
          <div class="flex flex-col gap-y-2">
            <span class="text-sm text-right font-medium whitespace-nowrap">{{ (habit.goalDates.start | dateInBahasa).shortDate }}</span>
            <h3 class="text-3xl text-right font-bold">{{ currentGoal }}/{{ currentLog.targetGoal }}</h3>
          </div>
        </div>
      </div>
  
      <!-- BOTTOM CONTENT -->
      <div [style.background-color]="habit.labelColor" class="grid grid-cols-3 justify-items-center items-center text-white font-semibold py-4">
        <div class="flex flex-col items-center gap-y-1">
          <span>Pengingat</span>
          <span class="text-xs">{{ habit.reminderTime !== '' ? habit.reminderTime : '-- : --' }}</span>
        </div>
        <div class="flex flex-col items-center gap-y-1">
          <span>Sisa Hari</span>
          <span class="text-xs text-center">{{ daysLeft === 0 ? '-SELESAI-' : (daysLeft === -1 ? 'BELUM DIMULAI' : daysLeft ) }}</span>
        </div>
        <div class="flex flex-col items-center gap-y-1">
          <span>Streaks</span>
          <span>{{ currentLog.markedAt.length }}</span>
        </div>
      </div>
    </ion-card-content>
  </ion-card>
</div>
